<div class="login-container">
  <div class="login-card">
    <div class="left">
      <div class="left-section">
        <h1>RiskEx</h1>
        <h2>Login with RiskEx</h2>
        <p class="tagline">If There Is Risk, We are There</p>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label for="login-email">User Mail</label>
            <input
              type="text"
              id="email"
              placeholder="User name"
              formControlName="email"
              (focus)="clearError()"
            />
            @if (loginForm.get('email')?.invalid && loginForm.get('email')?.touched)
            {
            <div class="text-danger">
              @if (loginForm.get('email')?.errors?.['required'])
              {
              <span> Email is required. </span>
              }
              @if (loginForm.get('email')?.errors?.['email'])
              {
              <span>Invalid email address.</span>
              }
            </div>
            }
          </div>

          <div class="form-group">
            <label for="login-password">Enter your Password</label>
            <div class="password-input">
              <input
                type="password"
                id="login-password"
                placeholder="Type your password here"
                formControlName="password"
                (focus)="clearError()"
              />
            </div>
          </div>

          <div class="options">
            <!-- <a routerLink="/forgetpassword">Forgot Password?</a> -->
          </div>

          <!-- Error message container with fixed height -->
          <div class="error-container">
            <span class="error-message" *ngIf="showError">
              {{ errorMessage || 'An unexpected error occurred.' }}
            </span>
          </div>

          <button type="submit" class="login-button" [disabled]="isLoading || loginForm.invalid">
            @if (isLoading) {
              <div class="spinner"></div>
            } @else {
              Log In
            }
          </button>
        </form>
      </div>
    </div>

    <div class="right">
      <div class="right-section">
        <img src="/Images/log newwww.png" alt="Login illustration">
      </div>
      <div class="bottom">
        <img src="/Images/experion org logo white.png" alt="Company logo">
      </div>
    </div>
  </div>
</div>
