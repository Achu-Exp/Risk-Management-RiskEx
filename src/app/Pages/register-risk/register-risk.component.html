<app-body-container [backgroundColor]="bgColor" padding="10">
  <div class="container">
      <div id="riskType" class="form-Container" [ngClass]="getRiskTypeClass()">
        <div class="riskType-radioButton-container">
          <div class="risk-type-label">
            <label for="riskType">Risk Type <span class="required">*</span> :</label>
          </div>
          @for (risk of riskTypes; track $index) {
            <div class="riskType-radioButton">
              <label>
                <input
                type="radio"
                name="riskType"
                [value]="risk.value"
                [checked]="selectedRiskType === risk.value"
                [attr.data-risk-type]="risk.value.toString()"
        (change)="setRiskType(risk.value)"
        [ngClass]="{'selected-risk': selectedRiskType === risk.value}" >
                {{ risk.type }}
              </label>
            </div>
          }

        </div>
      </div>
       @if (selectedRiskType === 1) {
        <app-qms-form  [riskTypeValue]="selectedRiskType" [dropdownLikelihood]="dropdownDataLikelihood"
        [dropdownImpact]="dropdownDataImpact" [dropdownProject]="dropdownDataProject"
        [dropdownDepartment]="dropdownDataDepartment" [dropdownAssignee]="dropdownDataAssignee"
        [dropdownReviewer]="dropdownDataReviewer" [departmentName]="departmentName"
        [departmentId]="departmentId" [isAdmin]="isAdmin" (submitForm)="onFormSubmit($event)" [bgColor]="bgColor"
        (departmentSelectedByAdmin)="receiveValue($event)" [dropdownDataProjectForAdmin]="dropdownDataProjectForAdmin"
        [dropdownAssigneeForAdmin]="dropdownAssigneeForAdmin"></app-qms-form>
       }
       @if (selectedRiskType === 2) {
        <app-isms-form  [riskTypeValue]="selectedRiskType" [dropdownLikelihood]="dropdownDataLikelihood"
        [dropdownImpact]="dropdownDataImpact" [dropdownProject]="dropdownDataProject"
        [dropdownDepartment]="dropdownDataDepartment" [dropdownAssignee]="dropdownDataAssignee"
        [dropdownReviewer]="dropdownDataReviewer" [departmentName]="departmentName"
        [departmentId]="departmentId" [isAdmin]="isAdmin" (submitForm)="onFormSubmit($event)" [bgColor]="bgColor"
        (departmentSelectedByAdmin)="receiveValue($event)" [dropdownDataProjectForAdmin]="dropdownDataProjectForAdmin"
        [dropdownAssigneeForAdmin]="dropdownAssigneeForAdmin"></app-isms-form>
       }
       @if (selectedRiskType === 3) {
        <app-isms-form  [riskTypeValue]="selectedRiskType" [dropdownLikelihood]="dropdownDataLikelihood"
        [dropdownImpact]="dropdownDataImpact" [dropdownProject]="dropdownDataProject"
        [dropdownDepartment]="dropdownDataDepartment" [dropdownAssignee]="dropdownDataAssignee"
        [dropdownReviewer]="dropdownDataReviewer" [departmentName]="departmentName"
        [departmentId]="departmentId" [isAdmin]="isAdmin" (submitForm)="onFormSubmit($event)" [bgColor]="bgColor"
        (departmentSelectedByAdmin)="receiveValue($event)" [dropdownDataProjectForAdmin]="dropdownDataProjectForAdmin"
        [dropdownAssigneeForAdmin]="dropdownAssigneeForAdmin"></app-isms-form>
       }
     @if(isSuccess){
        <app-form-successfull
        message="Add new risk successfully!"
        [isSuccessfull] ="true"
        (closeDialog)="closeDialog()" [bgColor]="bgColor">
        </app-form-successfull>
     }
     @if(isError){
      <app-form-successfull
        message="Something went wrong. Please try again!"
        [isSuccessfull]= "false"
        (closeDialog)="closeDialog()" [bgColor]="bgColor">
        </app-form-successfull>

     }
  </div>
</app-body-container>

